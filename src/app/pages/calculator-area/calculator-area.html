<app-header></app-header>

<div class="calc-page container py-4 text-light">
  <div class="row">
    <!-- Square Footage Calculator Section -->
    <div class="col-12 col-md-12 col-lg-6 mb-4">
      <h1 class="h4 fw-bold mb-3 text-info text-center">ğŸ“ Area Calculator</h1>

      <div class="calculator-shell shadow-lg rounded-4 p-4 mb-4 mx-auto">
        <div class="text-center mb-4">
          <h2 class="text-dark fw-bold mb-3">Calculate Area</h2>
        </div>

        <!-- Area or Shape Selector -->
        <div class="mb-3">
          <label class="form-label text-dark fw-semibold">Area or Shape</label>
          <select class="form-select form-select-lg" [(ngModel)]="selectedShape">
            <option *ngFor="let shape of shapes" [value]="shape.value">{{ shape.label }}</option>
          </select>
        </div>

        <!-- Known Area Input -->
        <div class="mb-3" *ngIf="selectedShape === 'known-area'">
          <label class="form-label text-dark fw-semibold">Known Area</label>
          <div class="d-flex gap-2">
            <input type="number" class="form-control" [(ngModel)]="knownAreaValue1" min="0" step="any">
            <input type="number" class="form-control" [(ngModel)]="knownAreaValue2" min="0" step="1" max="99">
            <select class="form-select" [(ngModel)]="knownAreaUnit" style="max-width: 150px;">
              <option *ngFor="let unit of knownAreaUnits" [value]="unit.value">{{ unit.label }}</option>
            </select>
          </div>
        </div>

        <!-- Length Input -->
        <div class="mb-3" *ngIf="getSelectedShape().requiresLength || getSelectedShape().requiresRadius">
          <label class="form-label text-dark fw-semibold">
            {{ getSelectedShape().requiresRadius ? 'Radius' : (selectedShape === 'square' ? 'Side' : (selectedShape === 'trapezoid' ? 'Base 1' : (selectedShape === 'triangle-half' ? 'Base' : 'Length'))) }}
          </label>
          <div class="d-flex gap-2">
            <!-- Show feet & inches inputs when ft & in is selected -->
            <div *ngIf="lengthUnit === 'ft & in'" class="d-flex gap-2 flex-fill">
              <input type="number" class="form-control" [(ngModel)]="lengthFeet" min="0" step="any" placeholder="Feet">
              <input type="number" class="form-control" [(ngModel)]="lengthInches" min="0" step="1" max="11" placeholder="Inches">
            </div>
            <!-- Show single input for other units -->
            <input *ngIf="lengthUnit !== 'ft & in'" type="number" class="form-control" [(ngModel)]="lengthFeet" min="0" step="any" placeholder="Value">
            <select class="form-select" [(ngModel)]="lengthUnit" style="max-width: 120px;">
              <option *ngFor="let unit of units" [value]="unit.value">{{ unit.label }}</option>
            </select>
          </div>
        </div>

        <!-- Width Input -->
        <div class="mb-3" *ngIf="getSelectedShape().requiresWidth">
          <label class="form-label text-dark fw-semibold">
            {{ selectedShape === 'triangle' ? 'Height' : (selectedShape === 'triangle-half' ? 'Height' : (selectedShape === 'trapezoid' ? 'Base 2' : 'Width')) }}
          </label>
          <div class="d-flex gap-2">
            <!-- Show feet & inches inputs when ft & in is selected -->
            <div *ngIf="widthUnit === 'ft & in'" class="d-flex gap-2 flex-fill">
              <input type="number" class="form-control" [(ngModel)]="widthFeet" min="0" step="any" placeholder="Feet">
              <input type="number" class="form-control" [(ngModel)]="widthInches" min="0" step="1" max="11" placeholder="Inches">
            </div>
            <!-- Show single input for other units -->
            <input *ngIf="widthUnit !== 'ft & in'" type="number" class="form-control" [(ngModel)]="widthFeet" min="0" step="any" placeholder="Value">
            <select class="form-select" [(ngModel)]="widthUnit" style="max-width: 120px;">
              <option *ngFor="let unit of units" [value]="unit.value">{{ unit.label }}</option>
            </select>
          </div>
        </div>

        <!-- Height Input -->
        <div class="mb-3" *ngIf="getSelectedShape().requiresHeight">
          <label class="form-label text-dark fw-semibold">
            {{ selectedShape === 'trapezoid' ? 'Height' : 'Height' }}
          </label>
          <div class="d-flex gap-2">
            <!-- Show feet & inches inputs when ft & in is selected -->
            <div *ngIf="heightUnit === 'ft & in'" class="d-flex gap-2 flex-fill">
              <input type="number" class="form-control" [(ngModel)]="heightFeet" min="0" step="any" placeholder="Feet">
              <input type="number" class="form-control" [(ngModel)]="heightInches" min="0" step="1" max="11" placeholder="Inches">
            </div>
            <!-- Show single input for other units -->
            <input *ngIf="heightUnit !== 'ft & in'" type="number" class="form-control" [(ngModel)]="heightFeet" min="0" step="any" placeholder="Value">
            <select class="form-select" [(ngModel)]="heightUnit" style="max-width: 120px;">
              <option *ngFor="let unit of units" [value]="unit.value">{{ unit.label }}</option>
            </select>
          </div>
        </div>

        <!-- Quantity Input -->
        <div class="mb-3">
          <label class="form-label text-dark fw-semibold">Quantity</label>
          <input type="number" class="form-control form-control-lg" [(ngModel)]="quantity" min="1" step="1">
        </div>

        <!-- Optional Waste Factor -->
        <div class="mb-3">
          <div class="d-flex align-items-center gap-2 mb-2">
            <input type="checkbox" class="form-check-input" [(ngModel)]="includeWasteFactor" id="wasteFactor">
            <label for="wasteFactor" class="form-check-label text-dark fw-semibold">Optional Waste Factor</label>
          </div>
          <div *ngIf="includeWasteFactor" class="d-flex gap-2 align-items-center">
            <label class="text-dark">Add an extra</label>
            <input type="number" class="form-control" style="width: 80px;" [(ngModel)]="wasteFactor" min="0" max="100" step="1">
            <label class="text-dark">%</label>
          </div>
        </div>

        <!-- Optional Cost Calculation -->
        <div class="mb-3">
          <div class="d-flex align-items-center gap-2 mb-2">
            <input type="checkbox" class="form-check-input" [(ngModel)]="includeCostCalculation" id="costCalculation">
            <label for="costCalculation" class="form-check-label text-dark fw-semibold">Optional Cost Calculation</label>
          </div>
          <div *ngIf="includeCostCalculation" class="d-flex gap-2 align-items-center">
            <select class="form-select" style="max-width: 80px;" [(ngModel)]="currency">
              <option *ngFor="let curr of currencies" [value]="curr">{{ curr }}</option>
            </select>
            <input type="number" class="form-control" style="width: 80px;" [(ngModel)]="costValue1" min="0" step="any">
            <input type="number" class="form-control" style="width: 80px;" [(ngModel)]="costValue2" min="0" step="1" max="99">
            <select class="form-select" [(ngModel)]="costUnit" style="max-width: 150px;">
              <option *ngFor="let unit of costUnits" [value]="unit.value">{{ unit.label }}</option>
            </select>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex gap-3 mb-3">
          <button class="btn btn-secondary flex-fill" (click)="clear()">Clear</button>
          <button class="btn btn-calculate flex-fill" (click)="calculate()">Calculate</button>
        </div>

        <!-- Answer Section -->
        <div class="answer-section" *ngIf="result !== null">
          <h2 class="text-dark fw-semibold mb-3">Answer</h2>
          
          <div *ngIf="includeWasteFactor && wasteFactor > 0" class="text-dark mb-2">
            Including an extra {{ wasteFactor }}% for waste.
          </div>

          <div class="result-box mb-2">
            <div class="result-value">Square Feet = {{ result.squareFeet | number:'1.2-2' }} ftÂ²</div>
          </div>

          <div class="result-box mb-2">
            <div class="result-value">Square Inches = {{ result.squareInches | number:'1.2-2' }} inÂ²</div>
          </div>

          <div class="result-box mb-2">
            <div class="result-value">Square Yards = {{ result.squareYards | number:'1.2-2' }} ydÂ²</div>
          </div>

          <div class="result-box mb-2">
            <div class="result-value">Square Meters = {{ result.squareMeters | number:'1.2-2' }} mÂ²</div>
          </div>

          <div class="result-box mb-2">
            <div class="result-value">Acres = {{ result.acres | number:'1.5-5' }} ac</div>
          </div>

          <div *ngIf="includeCostCalculation && result.totalCost !== undefined" class="result-box">
            <div class="result-value">Total Cost = {{ currency }}{{ result.totalCost | number:'1.2-2' }}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Description Section -->
    <div class="col-12 col-md-12 col-lg-6 mb-4">
      <div class="description-panel">
        <div class="d-flex justify-content-between text-muted mb-3 opacity-50">
          <span class="fs-5">âˆš</span>
          <span class="fs-5 symbol-dots">..</span>
        </div>

        <h2 class="display-6 fw-bold mb-4 text-dark font-serif">Area<br>Calculator</h2>

        <p class="text-secondary mb-4 small">
          The <strong>Area Calculator</strong> helps you calculate the area of different shapes and convert between various area units. 
          This tool is perfect for construction projects, home renovations, landscaping, and any task that requires accurate area measurements. 
          Simply select the shape, enter the dimensions, and get instant results in multiple units including square feet, square meters, acres, and more.
        </p>

        <p class="text-secondary mb-4 small">
          Additional features include waste factor calculation for material ordering and cost estimation to help budget your projects accurately. 
          The calculator supports both imperial and metric units, making it versatile for international use.
        </p>

        <div class="mt-4 border-top pt-3">
          <h3 class="fw-bold text-dark mb-3">Related Calculators:</h3>
          <div class="d-flex flex-wrap gap-2">
            <a routerLink="/unit-converter" class="btn btn-related">Unit Converter</a>
            <a routerLink="/volume-calculator" class="btn btn-related">Volume Calculator</a>
            <a routerLink="/concrete-calculator" class="btn btn-related">Concrete Calculator</a>
          </div>
        </div>

        <div class="d-flex justify-content-between text-muted mt-auto pt-4 opacity-50">
          <span class="fs-5 symbol-dots">..</span>
          <span class="fs-5">âœ•</span>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-center mt-4">
    <!-- Conversion Table Section -->
    <div class="col-12">
      <div class="functions-section">
        <h2 class="fw-semibold mb-3 text-white">ğŸ“ Area Conversion â€“ Quick Reference</h2>
        <h3 class="text-white mt-3 mb-2">Common Conversions</h3>
        <div class="table-responsive small">
          <table class="table table-dark table-sm align-middle mb-3">
            <thead>
              <tr>
                <th>From</th>
                <th>To</th>
                <th>Multiply by</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>mÂ²</td>
                <td>ftÂ²</td>
                <td>10.764</td>
              </tr>
              <tr>
                <td>ftÂ²</td>
                <td>mÂ²</td>
                <td>0.0929</td>
              </tr>
              <tr>
                <td>mÂ²</td>
                <td>ydÂ²</td>
                <td>1.196</td>
              </tr>
              <tr>
                <td>acre</td>
                <td>mÂ²</td>
                <td>4,047</td>
              </tr>
              <tr>
                <td>hectare</td>
                <td>mÂ²</td>
                <td>10,000</td>
              </tr>
              <tr>
                <td>kmÂ²</td>
                <td>miÂ²</td>
                <td>0.386</td>
              </tr>
              <tr>
                <td>miÂ²</td>
                <td>kmÂ²</td>
                <td>2.590</td>
              </tr>
              <tr>
                <td>acre</td>
                <td>hectare</td>
                <td>0.405</td>
              </tr>
              <tr>
                <td>ftÂ²</td>
                <td>inÂ²</td>
                <td>144</td>
              </tr>
              <tr>
                <td>ydÂ²</td>
                <td>ftÂ²</td>
                <td>9</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-5">
    <div class="col-12">
      <div class="comprehensive-guide">
        <h2 class="fw-bold mb-4 text-white text-center">ğŸ“š Square Footage Calculation Guide</h2>

        <p class="text-white mb-4">Understanding how to calculate square footage is essential for construction, renovation, and property assessment. 
          Below are the formulas and tips for calculating area for different shapes.</p>

        <div class="row">
          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="guide-section">
              <h3 class="fw-semibold text-white mb-3">ğŸ“ Rectangle Area</h3>
              <p class="text-white small mb-2">Formula: Length Ã— Width</p>
              <p class="text-white small">Multiply the length by the width to get the area. This is the most common shape for rooms and buildings.</p>
            </div>
          </div>

          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="guide-section">
              <h3 class="fw-semibold text-white mb-3">â­• Circle Area</h3>
              <p class="text-white small mb-2">Formula: Ï€ Ã— RadiusÂ²</p>
              <p class="text-white small">Multiply pi (3.14159) by the radius squared. Used for circular rooms, gardens, and features.</p>
            </div>
          </div>

          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="guide-section">
              <h3 class="fw-semibold text-white mb-3">ğŸ“ Square Area</h3>
              <p class="text-white small mb-2">Formula: Side Ã— Side</p>
              <p class="text-white small">Multiply one side by itself. All sides are equal in a square.</p>
            </div>
          </div>

          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="guide-section">
              <h3 class="fw-semibold text-white mb-3">ğŸ“ Triangle Area</h3>
              <p class="text-white small mb-2">Formula: Â½ Ã— Base Ã— Height</p>
              <p class="text-white small">Multiply the base by the height and divide by 2. Common in roofing and landscaping.</p>
            </div>
          </div>

          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="guide-section">
              <h3 class="fw-semibold text-white mb-3">ğŸ’° Material Cost Tips</h3>
              <p class="text-white small mb-2">Always add 5-10% extra for waste</p>
              <p class="text-white small">Materials like flooring, tiles, and paint require extra for cuts and mistakes. The waste factor helps you order enough.</p>
            </div>
          </div>

          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="guide-section">
              <h3 class="fw-semibold text-white mb-3">ğŸ“ Unit Conversions</h3>
              <p class="text-white small mb-2">Common conversions to remember:</p>
              <ul class="text-white small">
                <li>1 square foot = 144 square inches</li>
                <li>1 square yard = 9 square feet</li>
                <li>1 square meter = 10.764 square feet</li>
                <li>1 acre = 43,560 square feet</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>